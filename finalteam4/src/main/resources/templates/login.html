<!doctype html>

<html lang="ko">

  <head>
	
	<script src="http://code.jquery.com/jquery-latest.js"></script> 
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!--====== Default CSS ======-->
    <link rel="stylesheet" href="assets/css/default.css">
    
    <link rel="stylesheet" href="/assets/css/slick.css">

    <!--====== Line Icons CSS ======-->
    <link rel="stylesheet" href="/assets/css/LineIcons.css">

    <!--====== Material Design Icons CSS ======-->
    <link rel="stylesheet" href="/assets/css/materialdesignicons.min.css">

    <!--====== Jquery Ui CSS ======-->
    <link rel="stylesheet" href="/assets/css/jquery-ui.min.css">

    <!--====== nice select CSS ======-->
    <link rel="stylesheet" href="/assets/css/nice-select.css">
    

   
    <script src="/assets/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="/assets/js/popper.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/vendor/modernizr-3.7.1.min.js"></script>
    <!--====== Slick js ======-->
    <script src="/assets/js/slick.min.js"></script>

    <!--====== Accordion Steps Form js ======-->
    <script src="/assets/js/jquery-vj-accordion-steps.js"></script>

    <!--====== Jquery Ui js ======-->
    <script src="/assets/js/jquery-ui.min.js"></script>

    <!--====== Form validator js ======-->
    <script src="/assets/js/jquery.form-validator.min.js"></script>

    <!--====== nice select js ======-->
    <script src="/assets/js/jquery.nice-select.min.js"></script>

    <!--====== formatter js ======-->
    <script src="/assets/js/jquery.formatter.min.js"></script>

    <!--====== Main js ======-->
    <script src="/assets/js/count-up.min.js"></script>

    <!--====== Main js ======-->
    <script src="/assets/js/main.js"></script>
    <!-- Required meta tags -->
	<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
	<script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    

    <title>Login Page</title>

    

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Google fonts - Poppins -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">

    <!-- Icon Awesome -->

    <script src="https://kit.fontawesome.com/cbb70aea52.js" crossorigin="anonymous"></script>

    <!-- Custom styles for this template -->
	
    
	
	
	
	<style>
	
.logo{

	margin:0 auto;
	padding:0 auto;
	width:150px;


}

.bg-login {

    margin: auto;

    padding: 35px;

    border-radius: 5px;

    background: linear-gradient(15deg,#dadada,#fff);

    -webkit-box-shadow: 0px 0px 90px -26px rgba(0,0,0,0.75);

    -moz-box-shadow: 0px 0px 90px -26px rgba(0,0,0,0.75);

    box-shadow: 0px 0px 90px -26px rgba(0,0,0,0.75);

}



.fa-user-alt-slash{

  font-size: 35px;

  padding: 23px 0px;

  width: 80px;

  border-radius: 50%;

  margin: auto;

  display: block;

  color: #bdbdbd;

  background-color: #e0e0e0;

}

.form-signin {

  width: 100%;

  max-width: 390px;

  padding: 15px;

  margin: 0 auto;

}

.form-signin .checkbox {

  font-weight: 400;

}

.form-signin .form-control {

  position: relative;

  box-sizing: border-box;

  height: auto;

  padding: 10px 20px;

  font-size: 15px;

}

.form-signin .form-control:focus {

  z-index: 2;

}

.form-signin input[type="email"] {

  margin-bottom: -1px;

  border-bottom-right-radius: 0;

  border-bottom-left-radius: 0;

  color: #868e96;

  background: linear-gradient(15deg,#f7f5f5,#fff);

}

.form-signin input[type="password"] {

  margin-bottom: 10px;

  border-top-left-radius: 0;

  border-top-right-radius: 0;

  color: #868e96;

  background: linear-gradient(15deg,#f7f5f5,#fff);

}	
	
	
	
	
	
	</style>

<script>
function saveToDos(token) { //item을 localStorage에 저장 
    typeof(Storage) !== 'undefined' && sessionStorage.setItem('AccessKEY', JSON.stringify(token)); 
};

window.Kakao.init('b69b79a570ff1eefbca66ca0445d929a');

function kakaologin() {
    window.Kakao.Auth.login({
        scope: 'profile_nickname, profile_image, account_email, gender', //동의항목 페이지에 있는 개인정보 보호 테이블의 활성화된 ID값을 넣습니다.
        success: function(response) {
            saveToDos(response.access_token)  // 로그인 성공하면 사용자 엑세스 토큰 sessionStorage에 저장
            window.Kakao.API.request({ // 사용자 정보 가져오기 
                url: '/v2/user/me',
                success: (res) => {
                    const kakao_account = res.kakao_account;
                    alert('로그인 성공');
                    window.location.href='/shop'
                }
            });
        },
        fail: function(error) {
            console.log(error);
        }
    });
};

const login = document.querySelector('#kakaologin');
login.addEventListener('click', kakaoLogin);


/* 네이버 로그인 */
 var naverLogin = new naver.LoginWithNaverId( {
        clientId: "MAK4QIbORyQCqNxpf2Oc",
        callbackUrl: "http://127.0.0.1/login",
        isPopup: true, /* 팝업을 통한 연동처리 여부 */
        loginButton: {color: "green", type: 3, height: 62} /* 로그인 버튼의 타입을 지정 */
    } ); /* 설정정보를 초기화하고 연동을 준비 */
    naverLogin.init();






$(document).ready(function(){
	$('#login_btn').click(function(){
		$('#login_form').attr({
			method:'post',
			action:'/loginimpl'
		})
		$('#login_form').submit();
		
	});
	
});



</script>


  </head>

  <body class="text-center">

    <div class="container" style="margin-top:100px; margin-bottom:100px;">

    <form  id="login_form" class="form-signin">

      <div class="bg-login">

      <p class="logo">

        <img src="assets/images/Logo8.svg">

      </p><br>

      <label for="id" class="sr-only">ID를 입력해주세요!</label>

      <input type="text" id="id" name="custid" class="form-control" placeholder="EnterID" required autofocus>

      <label for="inputPassword" class="sr-only">Password를 입력해주세요!</label>

      <input type="password" id="pwd"  name="custpwd" class="form-control" placeholder="Password를입력해주세요" required>

      <div class="custom-control custom-checkbox">

        <input type="checkbox" class="custom-control-input" id="customCheck1">

        <label class="custom-control-label" for="customCheck1">Remember me</label>

      </div><br>

      <button  id="login_btn" class="btn btn-lg btn-primary btn-block" type="submit">LOGIN</button>

      <br>

      <p><strong>또는</strong></p>
      <div class="social-media">

        <ul>
        <a  id="kakaologin" href="javascript:kakaologin()">
        <img th:src="@{assets/images/k_login.jpg}" alt="카카오계정 로그인" id="kakao_img" style="width:180px; margin-left:-20px;">
        </a><br>
        <br>
        <a  id="naverLogin" href="javascript:void(0)">
        <img th:src="@{assets/images/naver_login.png}" alt="네이버 로그인" id="naver_img" style="width:180px; margin-left:-20px;">
        </a>
        <div id="naverLogin"></div>
        </ul>

      </div>

    </div>

    </form>

      
      

    </div>

    <!-- Optional JavaScript -->

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    

  </body>

</html>
