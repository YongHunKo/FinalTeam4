<!doctype html>

<html lang="ko">

  <head>
	   
	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<script src="http://code.jquery.com/jquery-latest.js"></script> 
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!--====== Default CSS ======-->
    <link rel="stylesheet" href="assets/css/default.css">
    
    <link rel="stylesheet" href="/assets/css/slick.css">

    <!--====== Line Icons CSS ======-->
    <link rel="stylesheet" href="/assets/css/LineIcons.css">

    <!--====== Material Design Icons CSS ======-->
    <link rel="stylesheet" href="/assets/css/materialdesignicons.min.css">

    <!--====== Jquery Ui CSS ======-->
    <link rel="stylesheet" href="/assets/css/jquery-ui.min.css">

    <!--====== nice select CSS ======-->
    <link rel="stylesheet" href="/assets/css/nice-select.css">
    


    <script src="/assets/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="/assets/js/popper.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/vendor/modernizr-3.7.1.min.js"></script>
    <!--====== Slick js ======-->
    <script src="/assets/js/slick.min.js"></script>

    <!--====== Accordion Steps Form js ======-->
    <script src="/assets/js/jquery-vj-accordion-steps.js"></script>

    <!--====== Jquery Ui js ======-->
    <script src="/assets/js/jquery-ui.min.js"></script>

    <!--====== Form validator js ======-->
    <script src="/assets/js/jquery.form-validator.min.js"></script>

    <!--====== nice select js ======-->
    <script src="/assets/js/jquery.nice-select.min.js"></script>

    <!--====== formatter js ======-->
    <script src="/assets/js/jquery.formatter.min.js"></script>

    <!--====== Main js ======-->
  

    <!--====== Main js ======-->
    
    
    <!-- Required meta tags -->
	

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="google-signin-client_id" content="414674411151-8otfjo97eobc9r4lk262bvegl1e27so6.apps.googleusercontent.com">
    

    <title>Login Page</title>

    

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Google fonts - Poppins -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">

    <!-- Icon Awesome -->

    <script src="https://kit.fontawesome.com/cbb70aea52.js" crossorigin="anonymous"></script>

    <!-- Custom styles for this template -->
	
    
	
	
	
	<style>
	
.logo{

	margin:0 auto;
	padding:0 auto;
	width:150px;


}

.bg-login {

    margin: auto;

    padding: 35px;

    border-radius: 5px;

    background: linear-gradient(15deg,#dadada,#fff);

    -webkit-box-shadow: 0px 0px 90px -26px rgba(0,0,0,0.75);

    -moz-box-shadow: 0px 0px 90px -26px rgba(0,0,0,0.75);

    box-shadow: 0px 0px 90px -26px rgba(0,0,0,0.75);

}



.fa-user-alt-slash{

  font-size: 35px;

  padding: 23px 0px;

  width: 80px;

  border-radius: 50%;

  margin: auto;

  display: block;

  color: #bdbdbd;

  background-color: #e0e0e0;

}

.form-signin {

  width: 100%;

  max-width: 390px;

  padding: 15px;

  margin: 0 auto;

}

.form-signin .checkbox {

  font-weight: 400;

}

.form-signin .form-control {

  position: relative;

  box-sizing: border-box;

  height: auto;

  padding: 10px 20px;

  font-size: 15px;

}

.form-signin .form-control:focus {

  z-index: 2;

}

.form-signin input[type="email"] {

  margin-bottom: -1px;

  border-bottom-right-radius: 0;

  border-bottom-left-radius: 0;

  color: #868e96;

  background: linear-gradient(15deg,#f7f5f5,#fff);

}

.form-signin input[type="password"] {

  margin-bottom: 10px;

  border-top-left-radius: 0;

  border-top-right-radius: 0;

  color: #868e96;

  background: linear-gradient(15deg,#f7f5f5,#fff);

}	
	
	
	
	
	
	</style>

<script>
function onSuccess(googleUser) {
    console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
  }
  function onFailure(error) {
    console.log(error);
  }
  function renderButton() {
    gapi.signin2.render('my-signin2', {
      'scope': 'profile email',
      'width': 230,
      'height': 50,
      'longtitle': true,
      'theme': 'dark',
      'onsuccess': onSuccess,
      'onfailure': onFailure
    });
  }
  
//카카오로그인
  function kakaoLogin() {

    $.ajax({
        url: '/login/getKakaoAuthUrl',
        type: 'get',
        async: false,
        dataType: 'text',
        success: function (res) {
            location.href = res;
        }
    });

  }

  $(document).ready(function() {

      var kakaoInfo = '${kakaoInfo}';

      if(kakaoInfo != ""){
          var data = JSON.parse(kakaoInfo);

          alert("카카오로그인 성공 \n accessToken : " + data['accessToken']);
          alert(
          "user : \n" + "email : "
          + data['email']  
          + "\n nickname : " 
          + data['nickname']);
      }
  });  
 
/* 기본 로그인버튼 */
$(document).ready(function(){
	$('#login_btn').click(function(){
		$('#login_form').attr({
			method:'get',
			action:'/loginimpl'
		});
		$('#login_form').submit();
		
	});
	
});



</script>


  </head>

  <body class="text-center">

    <div class="container" style="margin-top:100px; margin-bottom:100px;">

    <form  id="login_form" class="form-signin">

      <div class="bg-login">

      <p class="logo">

        <img src="assets/images/Logo8.svg">

      </p><br>

      <label for="id" class="sr-only">ID를 입력해주세요!</label>

      <input type="text" id="id" name="custid" class="form-control" placeholder="EnterID" required autofocus>

      <label for="inputPassword" class="sr-only">Password를 입력해주세요!</label>

      <input type="password" id="pwd"  name="custpwd" class="form-control" placeholder="Password를입력해주세요" required>

      <div class="custom-control custom-checkbox">

        <input type="checkbox" class="custom-control-input" id="customCheck1">

        <label class="custom-control-label" for="customCheck1">Remember me</label>

      </div><br>

      <button  id="login_btn" class="btn btn-lg btn-primary btn-block" type="submit">LOGIN</button>

      <br>

      <p><strong>또는</strong></p>
      <div class="social-media">


        <ul>
        <a  id="kakaologin" href="https://kauth.kakao.com/oauth/authorize?client_id=8f091ec537ce9700f5864824e26f19d9&redirect_uri=http://127.0.0.1/kakao/callback&response_type=code">
        <img th:src="@{assets/images/client-logo/k_login.jpg}" alt="카카오계정 로그인" id="kakao_img" style="width:180px; margin-left:-20px;">
        </a><br>
        <br>
        <a  id="naverIdLogin_loginButton" href="javascript:naverLogin()">
        <img th:src="@{assets/images/client-logo/naver_login.png}" alt="네이버 로그인" id="naver_img" style="width:180px; margin-left:-20px;">
        </a><br>
        <br>
        <div id="my-signin2" data-onsuccess="rendorButton"></div>	
       
 
        </ul>

      </div>

    </div>
	<div id="naverIdLogin"></div>
    </form>

      
      

    </div>

    <!-- Optional JavaScript -->

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->




	<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
	<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>
	
	
	<script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
        <script src="/assets/js/count-up.min.js"></script>
	<script src="/assets/js/main.js"></script>
  	
  	<script type="text/javascript">
	
  	</script>
  
  <script type="text/javascript">
  var naverLogin = new naver.LoginWithNaverId(
			{
				clientId: "MAK4QIbORyQCqNxpf2Oc", //내 애플리케이션 정보에 cliendId를 입력해줍니다.
				callbackUrl: "http://127.0.0.1/", // 내 애플리케이션 API설정의 Callback URL 을 입력해줍니다.
				isPopup: true,
				callbackHandle: true
			}
		);	

	naverLogin.init();

	window.addEventListener('load', function () {
		naverLogin.getLoginStatus(function (status) {
			if (status) {
				var email = naverLogin.user.getEmail(); // 필수로 설정할것을 받아와 아래처럼 조건문을 줍니다.
	    		
				console.log(naverLogin.user); 
	    		
	            if( email == undefined || email == null) {
					alert("이메일은 필수정보입니다. 정보제공을 동의해주세요.");
					naverLogin.reprompt();
					return;
				}
			} else {
				console.log("callback 처리에 실패하였습니다.");
			}
		});
	});


	var testPopUp;
	function openPopUp() {
	    testPopUp= window.open("https://nid.naver.com/nidlogin.logout", "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,width=1,height=1");
	}
	function closePopUp(){
	    testPopUp.close();
	}

	function naverLogout() {
		openPopUp();
		setTimeout(function() {
			closePopUp();
			}, 1000);
		
		
	}
	
	
   
</script>

  
  </body>

</html>